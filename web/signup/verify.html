<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Verification</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* Styles specific to this page */
        .info {
            text-align: left;
            margin: 15px 0;
            font-size: 14px;
        }

        .info-table {
            display: table;
            width: 100%;
            margin-bottom: 15px;
            font-size: 14px;
            color: #cfcfcf;
        }

        .info-row {
            display: table-row;
        }

        .info-cell {
            display: table-cell;
            padding: 5px;
        }

        .info-cell-label {
            font-weight: 500;
        }

        .info-cell-value {
            color: #a0a0a0;
        }

        .info-message {
            text-align: center;
            margin-top: 15px;
            font-size: 14px;
            color: #a0a0a0;
        }

        /* Loading indicator */
        .loader {
            border: 4px solid #333;
            border-top: 4px solid #10a37f;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 0.8s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>

<div class="container" id="content">
    <h1 id="title">Verifying...</h1>
    <div id="loader" class="loader"></div>
    <div id="info" class="info" style="display: none;">
        <div class="info-table">
            <div class="info-row">
                <div class="info-cell info-cell-label">Email:</div>
                <div class="info-cell info-cell-value"><span id="email"></span></div>
            </div>
            <div class="info-row">
                <div class="info-cell info-cell-label">Date Registered:</div>
                <div class="info-cell info-cell-value"><span id="dateCreated"></span></div>
            </div>
            <div class="info-row">
                <div class="info-cell info-cell-label">PIN Code:</div>
                <div class="info-cell info-cell-value"><span id="pin"></span></div>
            </div>
            <div class="info-row">
                <div class="info-cell info-cell-label">Account Status:</div>
                <div class="info-cell info-cell-value"><span id="status"></span></div>
            </div>
        </div>
        <p class="info-message">
            To authenticate in the chat, please use your PIN (<b><span id="pinInfo"></span></b>)
            and the <b>pass phrase</b> you set during registration.
        </p>
    </div>
    <button class="button" id="redirectBtn" style="display: none;">Go to Chat</button>
</div>

<script type="module">
    import initialize, {redirectToChat} from './verify.js';

    window.onload = initialize;
    document.getElementById('redirectBtn').onclick = redirectToChat;
</script>

</body>
</html>
